\documentclass[ twoside=semi, open=any, fontsize=12pt, DIV=16, BCOR=0pt,
     headings=onelinechapter, headings=small, numbers=endperiod,
     paper=A4, listof=nochaptergap, headinclude=false, footinclude=false,
     headings=optiontotoc,
     ]{scrbook}
%\includeonly{neizr,meta,re} %dolje isključiti list of theorems
% TODO za iduću godinu:
% * po instrukciji vs po programu prijelaz eksplicirati
% * \emphove razdvojiti na engl, defn (-> indeks jednog dana) i nagl
% * == umjesto = za algoritamsku jednakost; rješava i probleme s parcijalnošću
% * if u smallcaps - ili argumente u uglate zagrade, da izgleda specijalno
% * srpati nekoliko subsectiona iz 5.3 u 5.4
     %\usepackage{showframe}
\raggedbottom
%\pdfmapline{+dummy-space <dummy-space.pfb}
\pdfinterwordspaceon \input glyphtounicode \pdfgentounicode=1
\usepackage[utf8]{inputenc} \usepackage[T1]{fontenc}
\usepackage[croatian]{babel} \usepackage{csquotes} \MakeOuterQuote{"}
\usepackage[style=alphabetic]{biblatex} \addbibresource{literatura.bib}
\usepackage[unicode]{hyperref} \usepackage{xcolor} \hypersetup{
    colorlinks, linkcolor={red!50!black},
    citecolor={blue!50!black}, urlcolor={blue!80!black} }
\usepackage[nodollardollar,all,error]{onlyamsmath}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{stmaryrd}
\usepackage[euler-digits]{eulervm} \usepackage{beton} \usepackage{MnSymbol}
\usepackage[mathscr]{eucal} \usepackage[artemisia]{textgreek}
\usepackage{microtype} \usepackage{bookmark}
\usepackage{menukeys} \renewmenumacro{\keys}[+]{roundedkeys}
\usepackage{bold-extra}
\usepackage[draft=false]{scrlayer-scrpage}
\clearpairofpagestyles \ifoot{\textcolor{gray}{\headmark}} \ofoot*{\pagemark}
\usepackage[croatian,refpage]{nomencl}
\makenomenclature
% \usepackage{academicons}
% \usepackage[ttdefault]{AnonymousPro}

\declaretheoremstyle[
  spaceabove=\topsep, spacebelow=0pt, postheadspace=0.5em,
  headfont=\normalfont\bfseries, bodyfont=\normalfont,
  notefont=\mdseries, notebraces={(}{)}, headpunct={:},
  mdframed={ backgroundcolor=gray!1, 
            linecolor=blue!50, 
	    linewidth=1pt,
            innertopmargin=0pt,
            innerbottommargin=0pt, 
	    innerleftmargin=1em,
	    innerrightmargin=1em,
            skipabove=1pt,
            skipbelow=0pt,
	    innermargin=-1em,
	    outermargin=-1em,
	    topline=false,
	    bottomline=false,
	    rightline=false
	    }
]{kni}
\declaretheorem[             style=kni,parent=chapter]{lema}
\declaretheorem[sibling=lema,style=kni,qed=$\lhd$]{definicija}
\declaretheorem[sibling=lema,style=kni,qed=$\lhd$]{primjer}
\declaretheorem[sibling=lema,style=kni,qed=$\lhd$]{napomena}
\declaretheorem[sibling=lema,style=kni]{propozicija}
\declaretheorem[sibling=lema,style=kni]{korolar}
\declaretheorem[sibling=lema,style=kni]{teorem}
\declaretheorem[numbered=no,name={Church--\!Turingova teza}]{ctteza}
\renewcommand{\listtheoremname}{Popis definicija, propozicija, teorema, primjera, lema, napomena i korolara}

\usepackage{mathbbol} \usepackage{textcomp} \usepackage{etoolbox}
\usepackage{tikz} \usetikzlibrary{automata, positioning, arrows, cd}
\usetikzlibrary{external} \tikzexternalize[prefix=tikzcache/]
\AtBeginEnvironment{tikzcd}{\tikzexternaldisable}
\AtEndEnvironment{tikzcd}{\tikzexternalenable}
\tikzset{->,>=stealth', node distance=3cm, initial text=$ $}

\newcommand{\N}{{\mathbb N}}
\newcommand{\dom}[1]{\mathcal D_{#1}}
\newcommand{\im}[1]{\mathcal I_{#1}}
\newcommand{\graf}[1]{\mathcal G_{#1}}
\newcommand{\reg}[1]{\mathcal R_{#1}}
\newcommand{\inc}{\textsc{inc}}
\newcommand{\dec}{\textsc{dec}}
\newcommand{\goto}{\textsc{go\,to}}
\newcommand{\incr}[1]{\inc\;\reg{#1}}
\newcommand{\decr}[2]{\dec\;\reg{#1},#2}
\newcommand{\remove}[2]{\textsc{remove}\;\reg{#1}\;\textsc{to}\;\reg{#2}}
\newcommand{\move}[3]{\textsc{move}\;\reg{#1}\;\textsc{to}\;\reg{#2}\;\textsc{using}\;\reg{#3}}
\newcommand{\pr}{\mathbin{\raisebox{1pt}{\textsc{\scriptsize{p\!r}}}}}
\newcommand{\kompl}{\sp{{\scriptscriptstyle\complement}}}
\newcommand{\bump}{\sp{\text{\normalsize.}}}
\newcommand{\bl}{\t\textvisiblespace}
\newcommand{\T}[4]{\t{#1}\underset{\mathclap{#2}}{\t{#3}}\t{#4}}
\newcommand{\dcup}{\cupdot}
\newcommand{\bdcup}{\bigcupdot}
\newcommand{\conc}[1]{\mathbin{\renewcommand{\arraystretch}{0.1}\begin{array}{@{}c@{}}{\smallfrown}\\[-0.3ex]{\scriptstyle #1}\end{array}}}
\newcommand{\rus}{\textit{$R\widetilde{usse}ll$}}
\newcommand{\boo}{$\begin{array}{@{}c@{}}
    \t\textopenbullet\\ \t\textopenbullet \end{array}$}
\newcommand{\boi}{$\begin{array}{@{}c@{}}
    \t\textopenbullet\\ \t\textbullet \end{array}$}
\newcommand{\bio}{$\begin{array}{@{}c@{}}
    \t\textbullet\\ \t\textopenbullet \end{array}$}
\newcommand{\bii}{$\begin{array}{@{}c@{}}
    \t\textbullet\\ \t\textbullet \end{array}$}
\newcommand{\mund}[1]{\raisebox{3pt}{\smash{\scriptsize $#1$}}}
\newcommand{\TComp}{\mathscr{TC}omp_\Sigma}
\newcommand{\eq}{=}
\newcommand{\dd}{\hdotdot}
\newcommand{\num}{\texttt{\textup{\#}}\,}
\renewcommand{\varnothing}{\mathord{\textcolor{dark-blue}{\otimes}}}
\renewcommand{\div}{\mathbin{\medslash\mspace{-7mu}\medslash}}
\newcommand{\IF}[1]{if(#1)}
\newcommand{\NKmj}{\N\mathcal K^{\,-\!1}}
\newcommand{\sigmamj}{\sigma^{\,-\!1}}
\newcommand{\Valid}{V\mspace{-1.5mu}alid}

\newenvironment{prog}{\left[\begin{array}{r@{\;}l}}{\end{array}\right]}
\newenvironment{smallcases}{\left\{\begin{smallmatrix}}{\end{smallmatrix}\right.}
\DeclareMathOperator{\card}{card}
\DeclareTextFontCommand{\t}{\ttfamily\upshape\color{brown}}
\DeclareFontSeriesDefault[rm]{bf}{sbc}
\newcommand{\f}[1]{\textcolor{dark-blue}{\mathsf{#1}}}
\DeclarePairedDelimiter{\knk}{\langlebar}{\ranglebar}
\DeclarePairedDelimiter{\kins}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\kprog}{\ullcorner}{\ulrcorner}
\DeclarePairedDelimiter{\kf}{\t{\color{dark-blue}\char`\{}}{\t{\color{dark-blue}\char`\}}}
\DeclarePairedDelimiter{\kr}{\langle}{\rangle}
\DeclarePairedDelimiter{\dulj}{|}{|}
\definecolor{title-color}{HTML}{123456} \definecolor{dark-blue}{HTML}{000055}
\definecolor{dark-red}{HTML}{550000} \definecolor{brown}{HTML}{6F5A21}
\makeatletter
\renewcommand{\@pnumwidth}{1.7em} 
\renewcommand{\@tocrmarg}{1.8em}
\makeatother

\begin{document}
%\tracingall
\frontmatter
\titlehead{\centering{\Huge{\color{title-color}\textup{\MakeUppercase{k o m p u t o n o m i k o n}\\[2mm]\rule{0.85\textwidth}{1pt}}}}\vspace{1cm}

\begin{equation*}\label{dia:naslovnica}
\begin{tikzpicture}[scale=0.75,baseline=(c0)]
\fill[red!5!white] (0,0) ellipse (2 and 3);
\fill[blue!5!white] (8,0.5) ellipse (4 and 2.5);
\fill[red!5!white] (15,0) ellipse (1 and 2);
\fill[red!10!white] (0,1) ellipse (1.5 and 2);
\fill[blue!10!white] (10.5,0.5) circle (1.5);
\draw[red,fill] (0,0.5) coordinate (x) circle (0.05) node[left]{$x$};
\node[red] at(-1,1.7) {$D$};
\node[red] at(-1,-2) {$A$};
\node[blue] at(8.5,-1.6) {$C$};
\node[blue] at(11,-0.5) {$E$};
\node[red] at(15.5,-1) {$B$};
\node[blue] at(3,0.6) {$s$};
\node[blue] at(13,1.2) {$r$};
\node[red] at(3,-1.5) {$f$};
\draw[blue,fill] (5,0) coordinate (c0) circle (0.1) node[above]{$c_0$};
\draw[blue,fill] (6,-1)coordinate(c1)circle(0.1)node[right,yshift=-3]{$c_1$};
\draw[blue,fill] (7,0) coordinate (c2) circle (0.1) node[right]{$c_2$};
\draw[blue,fill] (6.5,2) coordinate (c3) circle (0.1) node[left]{$c_3$};
\draw[blue,fill] (10,0.5) coordinate (cn0) circle (0.1) node[below]{$c_{n_0}$};
\draw[red,fill] (15,1) coordinate (y) circle (0.05) node[right]{$y$};
\draw[blue,shorten <=1.5mm,shorten >=2mm,->] (x) -- (c0);
\draw[blue,shorten <=2mm,shorten >=2mm,->] (c0) -- (c1);
\draw[blue,shorten <=2mm,shorten >=2mm,->] (c1) -- (c2);
\draw[blue,shorten <=2mm,shorten >=2mm,->] (c2) -- (c3);
\draw[blue,dotted,shorten <=2mm,shorten >=2mm,->] (c3) -- (cn0);
\draw[blue,shorten <=2mm,shorten >=1.5mm,->] (cn0) -- (y);
\draw[red,shorten <=1.5mm, shorten >=1.5mm,dashed,->] (x)to[in=240,out=-50](y);
\end{tikzpicture} \end{equation*} \vspace{1cm} }
\title{\vspace{-2cm}\normalfont Izračunljivost}
\subtitle{\normalfont\Huge{za\; računarce}}
\author{\textit{V\!edran Č\hspace{-0.5mm}ačić}}
\date{\today} \maketitle \tableofcontents
{\renewcommand\thesection{\alph{section}} \include{uvod}}
\mainmatter
%\addtocontents{toc}{\protect\enlargethispage{\baselineskip}}
\include{ram} %\addtocontents{toc}{\protect\newpage}
\include{rek} \include{univ} %\addtocontents{toc}{\protect\newpage}
\include{turing}%\include{tbroj}
\include{neizr}%\include{church}
\include{meta} \include{re}
\backmatter \pagenumbering{Roman}
%OVO JE U ZBIRCI: %\appendix \include{api}
\listoftheorems[ignore=ctteza] \printnomenclature \printbibliography
\end{document}
